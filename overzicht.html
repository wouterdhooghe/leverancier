
<!doctype html>
<html>
   <head>
      <meta charset="UTF-8">
      <title>Mulitiple Data</title>
      <script src="jquery.min.js"></script>
      <script src="jput-2.js"></script>
      <script>
      function edit(index)
      {
         $('#save,#update').toggle();
         $('#name').val(jPut.users.data[index].name);
         $('#email').val(jPut.users.data[index].email);
         $('#phone').val(jPut.users.data[index].phone);
         $('#update').attr('data-id',index);

      }
      $(document).ready(function(){

         //on new user
         $('#save').click(function(){
            //defining new user
            var user=Object();
            user['name']=$('#name').val();
            user['email']=$('#email').val();
            user['phone']=$('#phone').val();
            //appening to jput variable
            jPut.users.append(user);
         });

         //on update user
         $('#update').click(function(){
            //defining new user
            var user=Object();
            user['name']=$('#name').val();
            user['email']=$('#email').val();
            user['phone']=$('#phone').val();

            //appening to jput variable
            /*
               update(index,newdata)
            */
            jPut.users.update($('#update').attr('data-id'),user);

            $('#save,#update').toggle();
         });

//         jPut.users.data=[{"name":"Shabeert","email":"user@gmail.com","phone":"+51 23126"},{"name":"Shibu","email":"user@gmail.com","phone":"+51 23126"},{"name":"Shabeer","email":"user@gmail.com","phone":"+51 23126"}];
// jPut.users.data= https://script.google.com/macros/s/AKfycbx-nBR7bff5DvdVHGsojf6Xkweu81ZhGrnp-ht25-Zd1VKA83E/exec?origin=VAB&action=getmytickets ;

               $.getJSON('https://script.google.com/macros/s/AKfycbx-nBR7bff5DvdVHGsojf6Xkweu81ZhGrnp-ht25-Zd1VKA83E/exec?origin=VAB&action=getmytickets', function(emp) { 
                  //   $('#display').html('<p> Name: ' + emp.name + '</p>'); 
                  //   $('#display').append('<p>Age : ' + emp.age+ '</p>'); 
                  //   $('#display').append('<p> Role: ' + emp.role+ '</p>'); 
                  //   $('#display').append('<p> Company: ' + emp.company+ '</p>'); 
                  jPut.users.data=emp.items;
                });


      });
      </script>
   </head>
   <body>
      <!-- <br/>
      Name :<input id="name" type="text" value="Name" />
      Email :<input id="email" type="text" value="user@gmail.com"  />
      Mobile :<input id="phone" type="text" value="+51 23126"  />
      <a href="#" id="save">Save</a>
      <a href="#" id="update" data-id="0" style="display:none;">Update</a>

      <br/> -->

      <form action="/action_page.php">
         <label for="fname">First name:</label><br>
         <input type="text" id="fname" value="John"><br><br>
         <input type="submit" value="Submit">
       </form> 

      <br/>
      <table border="1">
         <thead>
            <tr>
               <td>Index </td>
               <td>Timestamp </td>
               <td>Servicetype</td>
               <!-- <td>notificationdate</td>
               <td>notificationhour</td> -->
               <td>persons</td>
               <td>pickupurl</td>
               <td>winner</td>
               <td>executionconfirm</td>
               <!-- <td>Edit</td>
               <td>Delete</td> -->
            </tr> 
         </thead>
         <tbody jput="users" jput-jsondata='[]'>
            <tr>
               <td>{{index}}</td>
               <td>{{json.timestamp}}</td>
               <td>{{json.servicetype}}</td>
               <!-- <td>{{json.notificationdate}}</td>
               <td>{{json.notificationhour}}</td> -->
               <td>{{json.persons}}</td>
               <td>{{json.pickupurl}}</td>
               <td>{{json.winner}}</td>
               <td>{{json.winnerconfirm}}</td>
               <td><a href="#" onclick="({{index}})">Accept</a></td>
               <td><a href="#" onclick="jPut.users.remove({{index}})">Confirm as executed</a></td>
            </tr>
      </tbody>
      </table>
   </body>
</html>
